#!/bin/bash

# commandrouter
# A minimalistic command router for software development tools.

# Define a newline-separated list of allowed tools.
read -r -d '' allowed_tools << EOM
git
ls
mkdir
tee
touch
rm
cp
mv
chmod
chown
wget
curl
python
pip
docker
EOM

# Function to check if the command is in the list of allowed tools
is_allowed_tool() {
  grep -q "^$1\$" <<< "$allowed_tools"
}

execute_command() {
  local command=$1
  shift # Shift the arguments so that $@ contains only the remaining args

  if is_allowed_tool "$command"; then
    $command "$@" # Use $@ to pass all remaining arguments to the command
  else
    echo "$command $@" # Echo back the command followed by all its arguments
  fi
}

# Now use "$@" to pass all arguments to the execute_command function
execute_command "$@"