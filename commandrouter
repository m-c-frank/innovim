#!/bin/bash

# Default allowed tools
allowed_tools="git ls mkdir tee touch rm cp mv chmod chown wget curl python pip docker"

# Function to check if a tool is allowed
is_allowed_tool() {
  if grep -q "^$1\$" <<< "$allowed_tools"; then
    return 0  # true, the tool is allowed
  else
    return 1  # false, the tool is not allowed
  fi
}

# Function to execute or echo a command
execute_or_echo() {
  read -r command args <<< "$@"
  if is_allowed_tool "$command"; then
    # Execute the command in a new shell instance
    echo "Running command: $command $args"
    bash -c "$command $args"
  else
    # If not recognized or not allowed, just echo back the input
    echo "$@"
  fi
}

# Main execution flow
if [ -z "$1" ]; then
  echo "No command specified."
  exit 1
fi

execute_or_echo "$@"
